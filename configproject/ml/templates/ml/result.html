{% extends 'base.html' %} {% block title %}Prediction Results – Alzheimer's{%
endblock %} {% block content %}
<div class="row">
  <!-- Summary of inputs -->
  <div class="col-md-8">
    <div class="card mb-4">
      <div class="card-header bg-primary text-white">Patient Data Summary</div>
      <div class="card-body">
        <dl class="row">
          <dt class="col-sm-4">Age / Gender</dt>
          <dd class="col-sm-8">
            {{ result.age }} &mdash; {{ result.get_gender_display }}
          </dd>

          <dt class="col-sm-4">Education (yrs) / BMI</dt>
          <dd class="col-sm-8">
            {{ result.education_level }} yrs &mdash; {{ result.bmi }}
          </dd>

          <dt class="col-sm-4">Lifestyle</dt>
          <dd class="col-sm-8">
            Smoking: {{ result.smoking|yesno:"Yes,No" }}<br />
            Alcohol: {{ result.alcohol_consumption }}<br />
            Activity: {{ result.physical_activity }}<br />
            Diet: {{ result.diet_quality }}<br />
            Sleep: {{ result.sleep_quality }}
          </dd>

          <dt class="col-sm-4">Medical History</dt>
          <dd class="col-sm-8">
            Family Alzheimer’s: {{
            result.family_history_alzheimers|yesno:"Yes,No" }}<br />
            Cardio: {{ result.cardiovascular_disease|yesno:"Yes,No" }}<br />
            Diabetes: {{ result.diabetes|yesno:"Yes,No" }}<br />
            Depression: {{ result.depression|yesno:"Yes,No" }}<br />
            Head Injury: {{ result.head_injury|yesno:"Yes,No" }}<br />
            Hypertension: {{ result.hypertension|yesno:"Yes,No" }}
          </dd>

          <dt class="col-sm-4">Clinical Measures</dt>
          <dd class="col-sm-8">
            BP: {{ result.systolic_bp }}/{{ result.diastolic_bp }} mmHg<br />
            Cholesterol (T/LDL/HDL/TG): {{ result.cholesterol_total }}/{{
            result.cholesterol_ldl }}/{{ result.cholesterol_hdl }}/{{
            result.cholesterol_triglycerides }}
          </dd>

          <dt class="col-sm-4">Cognitive Scores</dt>
          <dd class="col-sm-8">
            MMSE: {{ result.mmse }}<br />
            Functional: {{ result.functional_assessment }}<br />
            ADL: {{ result.adl }}
          </dd>
        </dl>
      </div>
    </div>
  </div>

  <!-- Prediction result -->
  <div class="col-md-4">
    <div
      class="card result-card {% if result.prediction == 'Positive' %}result-positive{% elif result.prediction == 'Negative' %}result-negative{% else %}result-mci{% endif %}"
    >
      <div class="card-header">
        <h5 class="card-title mb-0">Prediction</h5>
      </div>
      <div class="card-body text-center">
        <h2 class="fw-bold">{{ result.prediction }}</h2>
        {% if result.prediction_probability %} {% widthratio
        result.prediction_probability 1 100 as pct %}
        <p class="mt-3 mb-1">Confidence: {{ pct|floatformat:1 }} %</p>
        <div class="progress probability-bar">
          <div
            class="progress-bar"
            role="progressbar"
            style="width: {{ pct }}%;"
            aria-valuenow="{{ pct }}"
            aria-valuemin="0"
            aria-valuemax="100"
          >
            {{ pct|floatformat:1 }} %
          </div>
        </div>
        {% endif %}
      </div>
    </div>
  </div>
</div>

<!-- Actions -->
<div class="mt-4 text-center">
  <a href="{% url 'alzheimers_input' %}" class="btn btn-secondary me-2"
    >New Prediction</a
  >
  <a href="{% url 'alzheimers_history' %}" class="btn btn-info">View History</a>
</div>
{% endblock %}
