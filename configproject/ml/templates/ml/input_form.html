{% extends 'base.html' %} {% block title %}Input Patient Data - Alzheimer's
Prediction{% endblock %} {% block content %}
<div class="form-container bg-light">
  <h2 class="mb-4 text-center">Alzheimer's Disease Prediction Form</h2>

  <form method="post" id="alzheimersForm">
    {% csrf_token %}

    <div class="row mb-4">
      <div class="col-12">
        <h4 class="mb-3 text-primary">Basic Information</h4>
      </div>

      <div class="col-md-4 mb-3">
        <label for="{{ form.patient_id.id_for_label }}" class="form-label"
          >Patient ID (optional)</label
        >
        {{ form.patient_id|safe }}
      </div>

      <div class="col-md-4 mb-3">
        <label for="{{ form.age.id_for_label }}" class="form-label"
          >Age *</label
        >
        {{ form.age|safe }}
      </div>

      <div class="col-md-4 mb-3">
        <label for="{{ form.gender.id_for_label }}" class="form-label"
          >Gender *</label
        >
        {{ form.gender|safe }}
      </div>

      <div class="col-md-4 mb-3">
        <label for="{{ form.ethnicity.id_for_label }}" class="form-label"
          >Ethnicity</label
        >
        {{ form.ethnicity|safe }}
      </div>

      <div class="col-md-4 mb-3">
        <label for="{{ form.education_level.id_for_label }}" class="form-label"
          >Education Level (years) *</label
        >
        {{ form.education_level|safe }}
      </div>

      <div class="col-md-4 mb-3">
        <label for="{{ form.bmi.id_for_label }}" class="form-label"
          >BMI *</label
        >
        {{ form.bmi|safe }}
      </div>
    </div>

    <div class="row mb-4">
      <div class="col-12">
        <h4 class="mb-3 text-primary">Lifestyle Factors</h4>
      </div>

      <div class="col-md-4 mb-3">
        <div class="form-check">
          {{ form.smoking|safe }}
          <label class="form-check-label" for="{{ form.smoking.id_for_label }}">
            Smoking History
          </label>
        </div>
      </div>

      <div class="col-md-4 mb-3">
        <label
          for="{{ form.alcohol_consumption.id_for_label }}"
          class="form-label"
          >Alcohol Consumption *</label
        >
        {{ form.alcohol_consumption|safe }}
      </div>

      <div class="col-md-4 mb-3">
        <label
          for="{{ form.physical_activity.id_for_label }}"
          class="form-label"
          >Physical Activity *</label
        >
        {{ form.physical_activity|safe }}
      </div>

      <div class="col-md-6 mb-3">
        <label for="{{ form.diet_quality.id_for_label }}" class="form-label"
          >Diet Quality *</label
        >
        {{ form.diet_quality|safe }}
      </div>

      <div class="col-md-6 mb-3">
        <label for="{{ form.sleep_quality.id_for_label }}" class="form-label"
          >Sleep Quality *</label
        >
        {{ form.sleep_quality|safe }}
      </div>
    </div>

    <div class="row mb-4">
      <div class="col-12">
        <h4 class="mb-3 text-primary">Medical History</h4>
      </div>

      <div class="col-md-4 mb-3">
        <div class="form-check">
          {{ form.family_history_alzheimers|safe }}
          <label
            class="form-check-label"
            for="{{ form.family_history_alzheimers.id_for_label }}"
          >
            Family History of Alzheimer's
          </label>
        </div>
      </div>

      <div class="col-md-4 mb-3">
        <div class="form-check">
          {{ form.cardiovascular_disease|safe }}
          <label
            class="form-check-label"
            for="{{ form.cardiovascular_disease.id_for_label }}"
          >
            Cardiovascular Disease
          </label>
        </div>
      </div>

      <div class="col-md-4 mb-3">
        <div class="form-check">
          {{ form.diabetes|safe }}
          <label
            class="form-check-label"
            for="{{ form.diabetes.id_for_label }}"
          >
            Diabetes
          </label>
        </div>
      </div>

      <div class="col-md-4 mb-3">
        <div class="form-check">
          {{ form.depression|safe }}
          <label
            class="form-check-label"
            for="{{ form.depression.id_for_label }}"
          >
            Depression
          </label>
        </div>
      </div>

      <div class="col-md-4 mb-3">
        <div class="form-check">
          {{ form.head_injury|safe }}
          <label
            class="form-check-label"
            for="{{ form.head_injury.id_for_label }}"
          >
            History of Head Injury
          </label>
        </div>
      </div>

      <div class="col-md-4 mb-3">
        <div class="form-check">
          {{ form.hypertension|safe }}
          <label
            class="form-check-label"
            for="{{ form.hypertension.id_for_label }}"
          >
            Hypertension
          </label>
        </div>
      </div>
    </div>

    <div class="row mb-4">
      <div class="col-12">
        <h4 class="mb-3 text-primary">Clinical Measurements</h4>
      </div>

      <div class="col-md-3 mb-3">
        <label for="{{ form.systolic_bp.id_for_label }}" class="form-label"
          >Systolic BP (mmHg) *</label
        >
        {{ form.systolic_bp|safe }}
      </div>

      <div class="col-md-3 mb-3">
        <label for="{{ form.diastolic_bp.id_for_label }}" class="form-label"
          >Diastolic BP (mmHg) *</label
        >
        {{ form.diastolic_bp|safe }}
      </div>

      <div class="col-md-3 mb-3">
        <label
          for="{{ form.cholesterol_total.id_for_label }}"
          class="form-label"
          >Total Cholesterol *</label
        >
        {{ form.cholesterol_total|safe }}
      </div>

      <div class="col-md-3 mb-3">
        <label for="{{ form.cholesterol_ldl.id_for_label }}" class="form-label"
          >LDL Cholesterol *</label
        >
        {{ form.cholesterol_ldl|safe }}
      </div>

      <div class="col-md-3 mb-3">
        <label for="{{ form.cholesterol_hdl.id_for_label }}" class="form-label"
          >HDL Cholesterol *</label
        >
        {{ form.cholesterol_hdl|safe }}
      </div>

      <div class="col-md-3 mb-3">
        <label
          for="{{ form.cholesterol_triglycerides.id_for_label }}"
          class="form-label"
          >Triglycerides *</label
        >
        {{ form.cholesterol_triglycerides|safe }}
      </div>
    </div>

    <div class="row mb-4">
      <div class="col-12">
        <h4 class="mb-3 text-primary">Cognitive Assessment</h4>
      </div>

      <div class="col-md-4 mb-3">
        <label for="{{ form.mmse.id_for_label }}" class="form-label"
          >MMSE Score (0-30) *</label
        >
        {{ form.mmse|safe }}
      </div>

      <div class="col-md-4 mb-3">
        <label
          for="{{ form.functional_assessment.id_for_label }}"
          class="form-label"
          >Functional Assessment *</label
        >
        {{ form.functional_assessment|safe }}
      </div>

      <div class="col-md-4 mb-3">
        <label for="{{ form.adl.id_for_label }}" class="form-label"
          >Activities of Daily Living Score *</label
        >
        {{ form.adl|safe }}
      </div>

      <div class="col-md-4 mb-3">
        <div class="form-check">
          {{ form.memory_complaints|safe }}
          <label
            class="form-check-label"
            for="{{ form.memory_complaints.id_for_label }}"
          >
            Memory Complaints
          </label>
        </div>
      </div>

      <div class="col-md-4 mb-3">
        <div class="form-check">
          {{ form.behavioral_problems|safe }}
          <label
            class="form-check-label"
            for="{{ form.behavioral_problems.id_for_label }}"
          >
            Behavioral Problems
          </label>
        </div>
      </div>

      <div class="col-md-4 mb-3">
        <div class="form-check">
          {{ form.confusion|safe }}
          <label
            class="form-check-label"
            for="{{ form.confusion.id_for_label }}"
          >
            Confusion
          </label>
        </div>
      </div>

      <div class="col-md-3 mb-3">
        <div class="form-check">
          {{ form.disorientation|safe }}
          <label
            class="form-check-label"
            for="{{ form.disorientation.id_for_label }}"
          >
            Disorientation
          </label>
        </div>
      </div>

      <div class="col-md-3 mb-3">
        <div class="form-check">
          {{ form.personality_changes|safe }}
          <label
            class="form-check-label"
            for="{{ form.personality_changes.id_for_label }}"
          >
            Personality Changes
          </label>
        </div>
      </div>

      <div class="col-md-3 mb-3">
        <div class="form-check">
          {{ form.difficulty_completing_tasks|safe }}
          <label
            class="form-check-label"
            for="{{ form.difficulty_completing_tasks.id_for_label }}"
          >
            Difficulty Completing Tasks
          </label>
        </div>
      </div>

      <div class="col-md-3 mb-3">
        <div class="form-check">
          {{ form.forgetfulness|safe }}
          <label
            class="form-check-label"
            for="{{ form.forgetfulness.id_for_label }}"
          >
            Forgetfulness
          </label>
        </div>
      </div>
    </div>

    <div class="row mb-4">
      <div class="col-12">
        <h4 class="mb-3 text-primary">Additional Information</h4>
      </div>

      <div class="col-md-6 mb-3">
        <label for="{{ form.doctor_in_charge.id_for_label }}" class="form-label"
          >Doctor In Charge (optional)</label
        >
        {{ form.doctor_in_charge|safe }}
      </div>

      <div class="col-md-6 mb-3">
        <label for="{{ form.actual_diagnosis.id_for_label }}" class="form-label"
          >Actual Diagnosis (if known)</label
        >
        {{ form.actual_diagnosis|safe }}
      </div>
    </div>

    <div class="row">
      <div class="col-12 text-center">
        <button type="submit" class="btn btn-primary btn-lg px-5">
          Generate Prediction
        </button>
      </div>
    </div>
  </form>
</div>
{% endblock %} {% block extra_js %}
<script>
  // Add Bootstrap form validation
  (function () {
    "use strict";

    // Fetch all forms we want to apply validation to
    var forms = document.querySelectorAll("#alzheimersForm");

    // Loop over them and prevent submission
    Array.prototype.slice.call(forms).forEach(function (form) {
      form.addEventListener(
        "submit",
        function (event) {
          if (!form.checkValidity()) {
            event.preventDefault();
            event.stopPropagation();
          }

          form.classList.add("was-validated");
        },
        false
      );
    });
  })();

  // Add classes to Django form elements for Bootstrap styling
  document.addEventListener("DOMContentLoaded", function () {
    // Add classes to input fields
    var inputs = document.querySelectorAll(
      'input[type="text"], input[type="number"], select, textarea'
    );
    inputs.forEach(function (input) {
      input.classList.add("form-control");
    });

    // Style checkboxes
    var checkboxes = document.querySelectorAll('input[type="checkbox"]');
    checkboxes.forEach(function (checkbox) {
      checkbox.classList.add("form-check-input");
    });

    // Style radio buttons
    var radios = document.querySelectorAll('input[type="radio"]');
    radios.forEach(function (radio) {
      radio.classList.add("form-check-input");
    });
  });
</script>
{% endblock %}
